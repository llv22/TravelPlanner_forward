import os
import sys
import json
import pickle
from ast import literal_eval

from utils.langfun_request import query_langfun, langfun_request_by_day

if(__name__ == '__main__'):
    eval = literal_eval("""{'Commonsense Constraint': {'easy': {3: {'Reasonable City Route': {'true': 16, 'false': 4, 'total': 20}, 'Diverse Restaurants': {'true': 15, 'false': 5, 'total': 20}, 'Diverse Attractions': {'true': 20, 'false': 0, 'total': 20}, 'Minimum Nights Stay': {'true': 6, 'false': 14, 'total': 20}, 'Non-conf. Transportation': {'true': 17, 'false': 3, 'total': 20}, 'Within Current City': {'true': 20, 'false': 0, 'total': 20}, 'Within Sandbox': {'true': 19, 'false': 1, 'total': 20}, 'Complete Information': {'true': 18, 'false': 2, 'total': 20}}, 5: {'Reasonable City Route': {'true': 19, 'false': 1, 'total': 20}, 'Diverse Restaurants': {'true': 2, 'false': 18, 'total': 20}, 'Diverse Attractions': {'true': 20, 'false': 0, 'total': 20}, 'Minimum Nights Stay': {'true': 4, 'false': 16, 'total': 20}, 'Non-conf. Transportation': {'true': 11, 'false': 9, 'total': 20}, 'Within Current City': {'true': 14, 'false': 6, 'total': 20}, 'Within Sandbox': {'true': 11, 'false': 9, 'total': 20}, 'Complete Information': {'true': 20, 'false': 0, 'total': 20}}, 7: {'Reasonable City Route': {'true': 10, 'false': 10, 'total': 20}, 'Diverse Restaurants': {'true': 3, 'false': 17, 'total': 20}, 'Diverse Attractions': {'true': 20, 'false': 0, 'total': 20}, 'Minimum Nights Stay': {'true': 3, 'false': 17, 'total': 20}, 'Non-conf. Transportation': {'true': 7, 'false': 13, 'total': 20}, 'Within Current City': {'true': 12, 'false': 8, 'total': 20}, 'Within Sandbox': {'true': 11, 'false': 9, 'total': 20}, 'Complete Information': {'true': 17, 'false': 3, 'total': 20}}}, 'medium': {3: {'Reasonable City Route': {'true': 18, 'false': 2, 'total': 20}, 'Diverse Restaurants': {'true': 12, 'false': 8, 'total': 20}, 'Diverse Attractions': {'true': 20, 'false': 0, 'total': 20}, 'Minimum Nights Stay': {'true': 9, 'false': 11, 'total': 20}, 'Non-conf. Transportation': {'true': 20, 'false': 0, 'total': 20}, 'Within Current City': {'true': 20, 'false': 0, 'total': 20}, 'Within Sandbox': {'true': 17, 'false': 3, 'total': 20}, 'Complete Information': {'true': 19, 'false': 1, 'total': 20}}, 5: {'Reasonable City Route': {'true': 15, 'false': 5, 'total': 20}, 'Diverse Restaurants': {'true': 4, 'false': 16, 'total': 20}, 'Diverse Attractions': {'true': 20, 'false': 0, 'total': 20}, 'Minimum Nights Stay': {'true': 4, 'false': 16, 'total': 20}, 'Non-conf. Transportation': {'true': 14, 'false': 6, 'total': 20}, 'Within Current City': {'true': 15, 'false': 5, 'total': 20}, 'Within Sandbox': {'true': 15, 'false': 5, 'total': 20}, 'Complete Information': {'true': 17, 'false': 3, 'total': 20}}, 7: {'Reasonable City Route': {'true': 9, 'false': 11, 'total': 20}, 'Diverse Restaurants': {'true': 1, 'false': 19, 'total': 20}, 'Diverse Attractions': {'true': 20, 'false': 0, 'total': 20}, 'Minimum Nights Stay': {'true': 2, 'false': 18, 'total': 20}, 'Non-conf. Transportation': {'true': 9, 'false': 11, 'total': 20}, 'Within Current City': {'true': 14, 'false': 6, 'total': 20}, 'Within Sandbox': {'true': 5, 'false': 15, 'total': 20}, 'Complete Information': {'true': 16, 'false': 4, 'total': 20}}}, 'hard': {3: {'Reasonable City Route': {'true': 15, 'false': 5, 'total': 20}, 'Diverse Restaurants': {'true': 15, 'false': 5, 'total': 20}, 'Diverse Attractions': {'true': 20, 'false': 0, 'total': 20}, 'Minimum Nights Stay': {'true': 7, 'false': 13, 'total': 20}, 'Non-conf. Transportation': {'true': 20, 'false': 0, 'total': 20}, 'Within Current City': {'true': 20, 'false': 0, 'total': 20}, 'Within Sandbox': {'true': 18, 'false': 2, 'total': 20}, 'Complete Information': {'true': 19, 'false': 1, 'total': 20}}, 5: {'Reasonable City Route': {'true': 12, 'false': 8, 'total': 20}, 'Diverse Restaurants': {'true': 8, 'false': 12, 'total': 20}, 'Diverse Attractions': {'true': 20, 'false': 0, 'total': 20}, 'Minimum Nights Stay': {'true': 2, 'false': 18, 'total': 20}, 'Non-conf. Transportation': {'true': 17, 'false': 3, 'total': 20}, 'Within Current City': {'true': 12, 'false': 8, 'total': 20}, 'Within Sandbox': {'true': 10, 'false': 10, 'total': 20}, 'Complete Information': {'true': 16, 'false': 4, 'total': 20}}, 7: {'Reasonable City Route': {'true': 9, 'false': 11, 'total': 20}, 'Diverse Restaurants': {'true': 4, 'false': 16, 'total': 20}, 'Diverse Attractions': {'true': 20, 'false': 0, 'total': 20}, 'Minimum Nights Stay': {'true': 1, 'false': 19, 'total': 20}, 'Non-conf. Transportation': {'true': 19, 'false': 1, 'total': 20}, 'Within Current City': {'true': 15, 'false': 5, 'total': 20}, 'Within Sandbox': {'true': 7, 'false': 13, 'total': 20}, 'Complete Information': {'true': 15, 'false': 5, 'total': 20}}}}, 'Hard Constraint': {'easy': {3: {'Cuisine': {'true': 0, 'false': 0}, 'Room Rule': {'true': 0, 'false': 0}, 'Transportation': {'true': 0, 'false': 0}, 'Room Type': {'true': 0, 'false': 0}, 'Budget': {'true': 5, 'false': 12, 'total': 20}}, 5: {'Cuisine': {'true': 0, 'false': 0}, 'Room Rule': {'true': 0, 'false': 0}, 'Transportation': {'true': 0, 'false': 0}, 'Room Type': {'true': 0, 'false': 0}, 'Budget': {'true': 4, 'false': 7, 'total': 20}}, 7: {'Cuisine': {'true': 0, 'false': 0}, 'Room Rule': {'true': 0, 'false': 0}, 'Transportation': {'true': 0, 'false': 0}, 'Room Type': {'true': 0, 'false': 0}, 'Budget': {'true': 6, 'false': 3, 'total': 20}}}, 'medium': {3: {'Cuisine': {'true': 3, 'false': 1, 'total': 6}, 'Room Rule': {'true': 3, 'false': 1, 'total': 5}, 'Transportation': {'true': 0, 'false': 0}, 'Room Type': {'true': 6, 'false': 2, 'total': 9}, 'Budget': {'true': 5, 'false': 11, 'total': 20}}, 5: {'Cuisine': {'true': 5, 'false': 0, 'total': 8}, 'Room Rule': {'true': 1, 'false': 3, 'total': 6}, 'Transportation': {'true': 0, 'false': 0}, 'Room Type': {'true': 2, 'false': 2, 'total': 6}, 'Budget': {'true': 8, 'false': 5, 'total': 20}}, 7: {'Cuisine': {'true': 1, 'false': 0, 'total': 8}, 'Room Rule': {'true': 1, 'false': 1, 'total': 9}, 'Transportation': {'true': 0, 'false': 0}, 'Room Type': {'true': 1, 'false': 0, 'total': 3}, 'Budget': {'true': 1, 'false': 3, 'total': 20}}}, 'hard': {3: {'Cuisine': {'true': 4, 'false': 4, 'total': 11}, 'Room Rule': {'true': 11, 'false': 6, 'total': 19}, 'Transportation': {'true': 15, 'false': 0, 'total': 17}, 'Room Type': {'true': 11, 'false': 0, 'total': 13}, 'Budget': {'true': 0, 'false': 17, 'total': 20}}, 5: {'Cuisine': {'true': 3, 'false': 0, 'total': 8}, 'Room Rule': {'true': 5, 'false': 3, 'total': 19}, 'Transportation': {'true': 7, 'false': 0, 'total': 17}, 'Room Type': {'true': 5, 'false': 1, 'total': 16}, 'Budget': {'true': 3, 'false': 5, 'total': 20}}, 7: {'Cuisine': {'true': 1, 'false': 1, 'total': 7}, 'Room Rule': {'true': 3, 'false': 1, 'total': 19}, 'Transportation': {'true': 5, 'false': 0, 'total': 17}, 'Room Type': {'true': 3, 'false': 1, 'total': 17}, 'Budget': {'true': 2, 'false': 3, 'total': 20}}}}}""")

    print(eval['Commonsense Constraint']['easy'])
